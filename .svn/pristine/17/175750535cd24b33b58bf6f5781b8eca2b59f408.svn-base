DECLARE @@CNT INT
	, @@CHK VARCHAR(20)
	, @@ERR VARCHAR(MAX);
BEGIN TRY
	UPDATE TB_M_EMPLOYEE SET
	    ID_TB_M_COMPANY = @COMPANY,
		REG_NO = @NOREG,
		FIRST_NAME = @FIRSTNAME,
		LAST_NAME = @LASTNAME,
		EMAIL = @EMAIL,
		ADDRESS = @ADDRESS,
		PHONE = @PHONE,
		IDENTITY_TYPE ='KTP',
		IDENTITY_NO = @IDENTITY_NO,
		PIC_STATUS = 'MEM',
		SAFETY_INDUCTION_NO = @SAFETY_INDUCTION_NO,
		SAFETY_INDUCTION_FROM = @SAFETY_INDUCTION_FROM,
		SAFETY_INDUCTION_TO = @SAFETY_INDUCTION_TO,
		STATUS = @STATUS,
		GENDER = @GENDER,
		UPDATE_BY = @username, 
		UPDATE_DT = GETDATE() 
	WHERE ID_TB_M_EMPLOYEE = @ID
	
	SET @@CHK = 'TRUE';
	SET @@ERR = 'Data Has Been Updated';
END TRY
BEGIN CATCH
	SET @@CHK = 'FALSE';
	SET @@ERR = 'ERROR UPDATE TB_M_EMPLOYEE: ' +@IDENTITY_NO+
	'<br/>Detail Error :|: ' + ERROR_MESSAGE() + ' :|: ';	
END CATCH

SELECT @@CHK AS STACK, @@ERR AS LINE_STS