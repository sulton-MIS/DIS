@using AI070.Models;
@using AI070.Models.Shared;
@using AI070.Models.WP02002Master;
@{
    //List<PicModel > Pic = (List<PicModel>)ViewData["Pic"];
}
<div class="row">
    <div class="col-lg-6">
        <label class="section-title">
            <u>D. Initial Identification Results Before Work Begins</u>
        </label>
    </div>
    <div class="col-lg-6">
        <div class="row">
            <div class="col-lg-12">
                <button type="button" class="btn btn-primary btn-xs pull-right jobbtn" id="WP02002_BTN_ADD_SHOW_BAHAYA" style="width: 80px;" disabled><i class="fa fa-plus"></i> Add</button>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="row space-bottom">
        <div class="table-responsive col-xs-12 col-sm-12" style="overflow: hidden;" id="GridTable">
            <div style="border: 1px solid #ccc; overflow:scroll; position: relative;">
                <div id="gutterGrid" style="position: absolute; display: block; top: 0; right: 0; width: 17px; height: auto; border-left: 0px solid #ddd; border-top: 1px solid #ddd; border-bottom: 1px solid #ddd; background: rgb(241, 241, 241);"></div>
                <div id="tScrollHead" style="width: 100%; border-right:1px solid #fff">
                    <table id="dynamic-table" class="table table-striped table-bordered table-condensed table-fixed" style="min-width: 100%; table-layout: fixed">
                        <thead>
                            <tr>
                                <th style="width: 200px;">Job</th>
                                <th style="width: 130px;">Potential hazard identification</th>
                                <th style="width: 130px;">Preventive measure</th>
                                <th style="width: 100px;">PIC</th>
                                <th style="width: 125px;">Note (Henkaten Safety)</th>
                                <th style="width: 100px;">Action</th>
                            </tr>
                        </thead>
                    </table>
                </div>

                <!--data grid-->
                <div id="tScrollBody" style="height: 255px;">
                    <table id="tblScroll" class="table table-bordered table-condensed table-fixed" style="min-width: 100%; table-layout: fixed; border: none">
                        <tbody id="WP02002_TBL_ADD_BAHAYA" style="display: none;">
                            <tr>
                                <td style="width: 200px; padding:0!important">
                                    <select style="width:100%; height:50px" id="WP02002_DDL_ADD_BAHAYA_PEKERJAAN" class="bg-danger">
                                    </select>
                                </td>
                                <td style="width: 130px; padding:0!important">
                                    <textarea type="text" maxlength="150" style="margin: 0px -51.7969px 0px 0px; width: 100%; height: 50px; resize:none" class="form-control space-input" id="WP02002_TXT_ADD_BAHAYA_POTENSI" placeholder="Identifikasi Potensi Bahaya"></textarea>
                                </td>
                                <td style="width: 130px; padding:0!important">
                                    <textarea type="text" maxlength="150" style="margin: 0px -51.7969px 0px 0px; width: 100%; height: 50px; resize:none" class="form-control space-input" id="WP02002_TXT_ADD_BAHAYA_PENCEGAHAN" placeholder="Tindakan Pencegahan"></textarea>
                                </td>
                                <td style="width: 100px; padding:0!important">
                                    <select style="width:100%; height:50px" id="WP02002_DDL_ADD_BAHAYA_PIC" class="bg-danger picddl select2">
                                        @*@{
                                            if (Pic != null)
                                            {
                                                if (Pic.Count() > 0)
                                                {
                                                    foreach (PicModel item in Pic)
                                                    {
                                                        <option code="@item.ID_TB_M_COMPANY" value="@item.ID_TB_M_EMPLOYEE" name="@item.REG_NO,@item.PHONE,@item.SECTION, @item.ANZEN_SERTIFICATE_NO">@item.NAME</option>
                                                    }
                                                }
                                            }
                                        }*@
                                    </select>
                                </td>
                                <td style="width: 125px; padding:0!important">
                                    @*<select style="width:100%" id="WP02002_DDL_ADD_BAHAYA_KETERANGAN" class="bg-danger">
            <option value="HKTN001">Perubahan Proses</option>
            <option value="HKTN002">Mesin Baru</option>
            <option value="HKTN003">Modifikasi MC</option>
        </select>*@
                                    <textarea type="text" maxlength="150" style="margin: 0px -51.7969px 0px 0px; width: 100%; height: 50px; resize:none" class="form-control space-input" id="WP02002_TXT_ADD_BAHAYA_KETERANGAN" placeholder="Henkanten Safety"></textarea>
                                </td>
                                <td style="width: 100px; text-align:center">
                                    <button type="button" id="WP02002_BTN_ADD_BAHAYA" onclick="addDataBahaya()" class="btn btn-primary btn-xs" style="width: 60px;">
                                        <i class="fa fa-save">
                                        </i>
                                    </button>
                                    <button type="button" id="WP02002_BTN_ADD_BAHAYA_CLOSE" class="btn btn-danger btn-xs" style="width: 60px; margin-left: 4px"><i class="fa fa-sign-out"></i></button>
                                </td>
                            </tr>
                        </tbody>
                        <tbody id="WP02002_TBL_EDIT_BAHAYA" style="display: none;">
                            <tr>
                                <td style="width: 200px; padding:0!important">
                                    <select style="width:100%; height:50px" id="WP02002_DDL_EDIT_BAHAYA_PEKERJAAN" class="bg-danger">
                                    </select>
                                </td>
                                <td style="width: 130px; padding:0!important">
                                    <textarea type="text" maxlength="150" style="margin: 0px -51.7969px 0px 0px; width: 100%; height: 50px; resize:none" class="form-control space-input" id="WP02002_TXT_EDIT_BAHAYA_POTENSI" placeholder="Identifikasi Potensi Bahaya"></textarea>
                                </td>
                                <td style="width: 130px; padding:0!important">
                                    <textarea type="text" maxlength="150" style="margin: 0px -51.7969px 0px 0px; width: 100%; height: 50px; resize:none" class="form-control space-input" id="WP02002_TXT_EDIT_BAHAYA_PENCEGAHAN" placeholder="Tindakan Pencegahan"></textarea>
                                </td>
                                <td style="width: 100px; padding:0!important">
                                    <select style="width:100%; height:50px" id="WP02002_DDL_EDIT_BAHAYA_PIC" class="bg-danger picddl select2">
                                        @*@{
                                            if (Pic != null)
                                            {
                                                if (Pic.Count() > 0)
                                                {
                                                    foreach (PicModel item in Pic)
                                                    {
                                                        <option code="@item.ID_TB_M_COMPANY" value="@item.ID_TB_M_EMPLOYEE" name="@item.REG_NO,@item.PHONE,@item.SECTION, @item.ANZEN_SERTIFICATE_NO">@item.NAME</option>
                                                    }
                                                }
                                            }
                                        }*@
                                    </select>
                                </td>
                                <td style="width: 125px; padding:0!important">
                                    @*<select style="width:100%" id="WP02002_DDL_EDIT_BAHAYA_KETERANGAN" class="bg-danger">
                                        <option value="HKTN001">Perubahan Proses</option>
                                        <option value="HKTN002">Mesin Baru</option>
                                        <option value="HKTN003">Modifikasi M/C</option>
                                    </select>*@
                                    <textarea type="text" maxlength="150" style="margin: 0px -51.7969px 0px 0px; width: 100%; height: 50px; resize:none" class="form-control space-input" id="WP02002_TXT_EDIT_BAHAYA_KETERANGAN" placeholder="Henkanten Safety"></textarea>
                                </td>
                                <td style="width: 100px; text-align:center">
                                    <button type="button" id="WP02002_BTN_EDIT_BAHAYA" class="btn btn-primary btn-xs" style="width: 60px;">
                                        <i class="fa fa-save">
                                        </i>
                                    </button>
                                    <button type="button" id="WP02002_BTN_EDIT_BAHAYA_CLOSE" class="btn btn-danger btn-xs" style="width: 60px; margin-left:4px"><i class="fa fa-sign-out"></i></button>
                                </td>
                            </tr>
                        </tbody>
                        <tbody id="WP02002_TBL_LIST_BAHAYA" class="listdatagrid">
                        </tbody>
                    </table>
                </div>

            </div>
        </div>
    </div>
</div>
<hr />
<div class="row">
    <div class="col-lg-12">
        <div class="form-group row">
            <div class="col-lg-2">
                <label class="control-label">Is Henkaten Safety :</label>
            </div>
            <div class="col-lg-2">
                <input style="width:100%" class="hk-bahaya form-check-input form-control" type="checkbox" value="" id="WP02002_CHK_ADD_HKSAFETY" name="WP02002_CHK_ADD_HKSAFETY" onclick="showHenkatenSafety(this);">
            </div>
        </div>

        <div class="form-group row hksafety">
            <div class="col-lg-2">
                <label>Process Changed :</label>
            </div>
            <div class="col-lg-2">
                <input style="width:100%" class="hk-bahaya form-check-input" type="checkbox" value="" id="WP02002_CHK_ADD_HKSAFETYPROCESS" name="WP02002_CHK_ADD_HKSAFETYPROCESS">
            </div>
        </div>

        <div class="form-group row hksafety">
            <div class="col-lg-2">
                <label>New Machine :</label>
            </div>
            <div class="col-lg-2">
                <input style="width:100%" class="hk-bahaya form-check-input" type="checkbox" value="" id="WP02002_CHK_ADD_HKSAFETYMACHINE" name="WP02002_CHK_ADD_HKSAFETYMACHINE">
            </div>
        </div>

        <div class="form-group row hksafety">
            <div class="col-lg-2">
                <label>M/C Modification :</label>
            </div>
            <div class="col-lg-2">
                <input style="width:100%" class="hk-bahaya form-check-input" type="checkbox" value="" id="WP02002_CHK_ADD_HKSAFETYMODIF" name="WP02002_CHK_ADD_HKSAFETYMODIF">
            </div>
        </div>

        <div class="form-group row hksafety templatesafety">
            <div class="col-lg-2">
                <label>Template :</label>
            </div>
            <div class="col-lg-4">
                <a href="~/Content/TemplateReport/HENKATEN SAFETY.xlsx" target="_blank">Download Template</a>
            </div>
        </div>

        <div class="form-group row hksafety">
            <div class="col-lg-2">
                <label>Support File :</label>
            </div>
            <div class="col-lg-6">
                <div class="custom-file mb-3">
                    <input type="file" class="custom-file-input" id="WP02002_FILE_HKSAFETY" name="WP02002_FILE_HKSAFETY">
                    <label class="custom-file-label" for="WP02002_FILE_HKSAFETY">Choose file</label>
                </div>
                @*<div class="input-group">
                    <div class="custom-file">
                        <input type="file" class="custom-file-input" id="WP02002_FILE_HKSAFETY" name="WP02002_FILE_HKSAFETY"
                               aria-describedby="inputGroupFileAddon01" accept="application/pdf">
                        <label class="custom-file-label" for="WP02002_FILE_HKSAFETY">Choose file</label>
                    </div>
                </div>*@

                @*<input style="width:100%" class="form-control" type="file" id="WP02002_FILE_HKSAFETY" name="WP02002_FILE_HKSAFETY" accept="application/pdf">*@
            </div>
            <div class="col-lg-4" id="uploadedsafety">

            </div>
        </div>
    </div>
</div>