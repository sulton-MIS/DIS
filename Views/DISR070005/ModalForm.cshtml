
@using AI070.Models;
@using AI070.Models.Shared;
@using AI070.Models.DISR070005Master;

@{ 
    List<DISR070005Master> ListDmcType = (List<DISR070005Master>)ViewData["dmc_type"];
}
<!--form add new data-->
<div id="modalForm" class="modal fade">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><i class="fa fa-close"></i></button>
                <h4 class="modal-title" id="modalForm-title">FORM ADD TOOL SAPPAN / NUKIGATA </h4>
            </div>

            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <label class="required">Id Tool : </label>
                        <input id="addIdTool" type="text" class="form-control" />
                    </div>
                    <div class="col-md-6">
                        <label class="required">Nama Tool : </label>
                        <input id="addNameTool" type="text" class="form-control" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <label class="required">Factory : </label>
                        <select class="form-control" id="addFactory" name="dropdown">
                            <option id="addFactory" value="1" selected="selected"> 1 </option>
                            <option id="addFactory" value="2" selected="selected"> 2</option>
                            <option id="addFactory" value="3" selected="selected"> 3 </option>
                            <option id="addFactory" value="" selected="selected">  </option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label>Life Time : </label>
                        <input id="addLifeTime" required type="text" class="form-control" />
                    </div>
                    <div class="col-md-4">
                        <label>Limit : </label>
                        <input id="addLimit" required type="text" class="form-control" />
                    </div>
                </div>

                <hr />

                @*============================================================= [DETIL] ================================================================*@
                <div class="row" style="margin-bottom:5px">
                    <div class="col-lg-6">
                    </div>
                    <div class="col-lg-6">
                        <div class="row">
                            <div class="col-lg-12">
                                <button type="button" class="btn btn-success btn-xs pull-right" onclick="AddDataDetail()" style="width: 80px;"><i class="fa fa-plus"></i> Dmc Code</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="row space-bottom">
                        <div class="table-responsive col-xs-12 col-sm-12" style="overflow: hidden;" id="GridTable">
                            <div style="border: 1px solid #ccc; overflow:scroll; position: relative;">
                                <div id="gutterGrid" style="position: absolute; display: block; top: 0; right: 0; width: 17px; height: auto; border-left: 0px solid #ddd; border-top: 1px solid #ddd; border-bottom: 1px solid #ddd; background: rgb(241, 241, 241);"></div>
                                <div id="tScrollHead" style="width: 100%; border-right:1px solid #fff">
                                    <table id="dynamic-table" class="table table-striped table-bordered table-condensed table-fixed" style="min-width: 100%; table-layout: fixed">
                                        <thead>
                                            <tr>
                                                <th style="width: 20%;">DMC CODE</th>

                                                <th style="width: 10%;">ACTION</th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>

                                <!--data grid-->
                                <div id="tScrollBody" style="height: 150px;">
                                    <table id="tblScroll" class="table table-bordered table-condensed table-fixed" style="min-width: 100%; table-layout: fixed; border: none">
                                        <!--Add Multiple Insert-->
                                        <tbody id="TBL_ADD_TOOL" style="display: none;">
                                            <tr>
                                                <td style="width: 20%; padding:0!important">
                                                    @*<input type="text" class="form-control space-input" id="ADD_DMC_CODE" maxlength="50" autocomplete="off">*@
                                                    <select class="form-control select2" id="ADD_DMC_CODE" required>
                                                        <option value="" selected="selected" style="font-style: italic; color: gray"> --- PILIH --- </option>
                                                        @{
                                                            if (ListDmcType != null)
                                                            {
                                                                if (ListDmcType.Count() > 0)
                                                                {
                                                                    foreach (DISR070005Master item in ListDmcType)
                                                                    {
                                                                        <option value="@item.Dmc_Type">@item.Dmc_Type</option>
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    </select>
                                                </td>
                                                <td style="width: 10%">
                                                    <button type="button" onclick="saveDataTemp()" class="btn btn-primary btn-xs" style="width: 60px; margin-left:10px;">
                                                        <i class="fa fa-save">
                                                        </i>
                                                    </button>
                                                    <button type="button" id="deleteDataDetail" class="btn btn-danger btn-xs" style="width: 60px"><i class="fa fa-trash"></i></button>
                                                </td>
                                            </tr>
                                        </tbody>

                                        <tbody id="TBL_EDIT_TOOL" style="display: none;">
                                            <tr>
                                                <td style="width: 20%; padding:0!important">
                                                    @*<input type="text" class="form-control space-input" id="ADD_DMC_CODE" maxlength="50" autocomplete="off">*@
                                                    <select class="form-control select2" id="EDIT_DMC_CODE" required>
                                                        <option value="" selected="selected" style="font-style: italic; color: gray"> --- PILIH --- </option>
                                                        @{
                                                            if (ListDmcType != null)
                                                            {
                                                                if (ListDmcType.Count() > 0)
                                                                {
                                                                    foreach (DISR070005Master item in ListDmcType)
                                                                    {
                                                                        <option value="@item.Dmc_Type">@item.Dmc_Type</option>
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    </select>
                                                </td>

                                                <td style="width: 10%">
                                                    <button type="button" onclick="saveDataTemp()" class="btn btn-primary btn-xs" style="width: 60px; margin-left:10px;">
                                                        <i class="fa fa-save">
                                                        </i>
                                                    </button>
                                                    <button type="button" id="deleteDataDetail" class="btn btn-danger btn-xs" style="width: 60px"><i class="fa fa-trash"></i></button>
                                                </td>
                                            </tr>
                                        </tbody>

                                        <tbody id="ADD_TBL_LIST_DETAIL_TOOL">
                                        </tbody>
                                    </table>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <button onclick="Submit_Data()" id="btn_Confirm_Delete" class="btn btn-primary btn-sm" style="width: 80px;"><i class="fa fa-check"></i> SAVE</button>
                <button type="button" id="btnNo" class="btn btn-danger btn-sm" style="width: 80px;" data-dismiss="modal"><i class="fa fa-times"></i>  CANCEL</button>
            </div>
        </div>
    </div>
</div>

<!--form edit data-->
<div id="modalEditForm" class="modal fade">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><i class="fa fa-close"></i></button>
                <h4 class="modal-title" id="modalForm-title">FORM EDIT TOOL SAPPAN / NUKIGATA </h4>
            </div>

            <div class="modal-body">                
                <div class="row">
                    <div class="col-md-6">
                        <label class="required">ID Tool : </label>
                        <input id="editIdTool" type="text" class="form-control" disabled="" />
                    </div>
                    <div class="col-md-6">
                        <label class="required">Nama Tool : </label>
                        <input id="editNameTool" type="text" class="form-control" />
                    </div>

                    @*<input id="editIdTool" type="hidden" class="form-control" />
                    <input style="display:none" type="text" maxlength="50" id="EditID" class="form-control" placeholder="" />*@

                </div>
                <div class="row">
                    <div class="col-md-4">
                        <label class="required">Factory : </label>
                        <select class="form-control" id="editFactory" name="dropdown">
                            <option id="editFactory" value="1" selected="selected"> 1 </option>
                            <option id="editFactory" value="2" selected="selected"> 2</option>
                            <option id="editFactory" value="3" selected="selected"> 3 </option>
                            <option id="editFactory" value="" selected="selected">  </option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label>Life Time : </label>
                        <input id="editLifeTime" required type="text" class="form-control" />
                    </div>
                    <div class="col-md-4">
                        <label>Limit : </label>
                        <input id="editLimit" required type="text" class="form-control" />
                    </div>
                </div>
                <hr />

                <div class="row" style="margin-bottom:5px">
                    <div class="col-lg-6">
                    </div>
                    <div class="col-lg-6">
                        <div class="row">
                            <div class="col-lg-12">
                                <button type="button" class="btn btn-success btn-xs pull-right" onclick="EditDataDetail()" style="width: 80px;"><i class="fa fa-plus"></i> Dmc Code</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="row space-bottom">
                        <div class="table-responsive col-xs-12 col-sm-12" style="overflow: hidden;" id="GridTable">
                            <div style="border: 1px solid #ccc; overflow:scroll; position: relative;">
                                <div id="gutterGrid" style="position: absolute; display: block; top: 0; right: 0; width: 17px; height: auto; border-left: 0px solid #ddd; border-top: 1px solid #ddd; border-bottom: 1px solid #ddd; background: rgb(241, 241, 241);"></div>
                                <div id="tScrollHead" style="width: 100%; border-right:1px solid #fff">
                                    <table id="dynamic-table" class="table table-striped table-bordered table-condensed table-fixed" style="min-width: 100%; table-layout: fixed">
                                        <thead>
                                            <tr>
                                                <th style="width: 20%;">DMC CODE</th>

                                                <th style="width: 10%;">ACTION</th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>

                                <!--data grid-->
                                <div id="tScrollBody" style="height: 150px;">
                                    <table id="tblScroll" class="table table-bordered table-condensed table-fixed" style="min-width: 100%; table-layout: fixed; border: none">
                                        <!--Edit Multiple Insert-->
                                        <tbody id="TBL_EDIT_TOOL" style="display: none;">
                                            <tr>
                                                <td style="width: 20%; padding:0!important">
                                                    @*<input type="text" class="form-control space-input" id="ADD_DMC_CODE" maxlength="50" autocomplete="off">*@
                                                    <select class="form-control select2" id="EDIT_DMC_CODE" required>
                                                        <option value="" selected="selected" style="font-style: italic; color: gray"> --- PILIH --- </option>
                                                        @{
                                                            if (ListDmcType != null)
                                                            {
                                                                if (ListDmcType.Count() > 0)
                                                                {
                                                                    foreach (DISR070005Master item in ListDmcType)
                                                                    {
                                                                        <option value="@item.Dmc_Type">@item.Dmc_Type</option>
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    </select>
                                                </td>

                                                <td style="width: 10%">
                                                    <button type="button" onclick="saveDataTempEdit()" class="btn btn-primary btn-xs" style="width: 60px; margin-left:10px;">
                                                        <i class="fa fa-save">
                                                        </i>
                                                    </button>
                                                    <button type="button" id="deleteDataDetail" class="btn btn-danger btn-xs" style="width: 60px"><i class="fa fa-trash"></i></button>
                                                </td>
                                            </tr>
                                        </tbody>

                                        <tbody id="EDIT_TBL_LIST_DETAIL_TOOL">
                                        </tbody>
                                    </table>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <button onclick="edit_check()" class="btn btn-primary btn-sm" style="width: 85px;"><i class="fa fa-check"></i> UPDATE</button>
                <button type="button" id="editBtnNo" class="btn btn-danger btn-sm" style="width: 80px;" data-dismiss="modal"><i class="fa fa-times"></i>  CANCEL</button>
            </div>
        </div>
    </div>
</div>

