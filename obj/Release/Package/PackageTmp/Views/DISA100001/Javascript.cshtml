
<script>
//const toastr = require("../obj/Release/Package/PackageTmp/Content/Bootstrap/js/toastr");

    var SITE_URL = window.location.href + "/";
    var Message = [];

    var GET_SITE_URL = (window.location.href).split('/');
    var NEW_SITE_URL = "";

    for (var i = 0; i < GET_SITE_URL.length; i++) {
        if (GET_SITE_URL[i] != "DISA100001") {
            NEW_SITE_URL = NEW_SITE_URL + GET_SITE_URL[i] + "/";
        }
    }

    //Get Message From TB_M_MESSAGE 
    $.ajax({
        url: "Message/GenerateMessage",
        success: function (e) {
            Message = e.res;
        },
        error: function (e) {
            toastr.error('Generate Message Error, Not Instance to the Object');
        }
    });

    $(document).ready(function () {
        $('.menu-panel').click(function (e) {
            var getMenu = $(this).attr('data-target');
            var userLogin = $('#userLogin').val();
            var regLogin = $('#regLogin').val();

            //alert(getMenu);

            checkLogin(regLogin, getMenu);

            //if (regLogin == "SU" || regLogin == "AMS") {
            //    (getMenu == "List Request Data Asset") ? REQ_ASSET() : (getMenu == "List Data Asset") ? DATA_ASSET() :
            //        (getMenu == "List Lapor Data Asset") ? LAPOR_ASSET() : (getMenu == "List Dispose Asset") ? DISPOSE_ASSET() : (getMenu == "Input Audit Asset") ? PAGE_INPUT_AUDIT_ASSET() :
            //            (getMenu == "List Audit Asset Bulanan") ? PAGE_DATA_AUDIT_ASSET_BULANAN() : (getMenu == "List Audit Asset Semester") ? PAGE_DATA_AUDIT_ASSET_SEMESTER() : DATA();
            //}
            //else {
            //    alert('Maaf Anda tidak punya akses! Harap hubungi Administrator!');
            //    sts = false;
            //}

        });

        $.ajax({
            url: "Message/GenerateMessage",
            success: function (e) {
                Message = e.res;

                for (var i = 0; i < Message.length; i++) {
                    var MSG_ID = Message[i].MSG_ID;
                    if (MSG_ID == "MWP005") {
                        $('#modal-save-tittle').text(Message[i].MSG_TEXT);
                    } else if (MSG_ID == "MWP006") {
                        $('#modal-delete-tittle').text(Message[i].MSG_TEXT);
                    } else if (MSG_ID == "MWP007") {
                        $('#modal-update-tittle').text(Message[i].MSG_TEXT);
                    }
                }
            }
        });
    });

    function checkLogin(regLogin, getMenu) {
        var sts = true;
        var formMenu = getMenu;

        if (regLogin == "SU" || regLogin == "AMS") {
            openForm(getMenu);
            sts = true;
        }
        else {
            $.ajax({
            type: "POST",
            url: SITE_URL + 'validasiOpenForm',
            async: false,
            data: {
                formMenu: formMenu
            },
            success: function (res) {
                if (res.sts == "TRUE") {
                    openForm(formMenu);
                } else {
                    toastr.warning("Your Account Doesn't Have Access! Please Contact Administrator!");
                    sts = false;
                    return;
                }
            },
            error: function (res) {
                toastr.error(res.Message);
                sts = false;
            }
        });

        }

        if (sts = false) {
            return;
        }
    }

    function openForm(getMenu) {
        (getMenu == "List Request Data Asset") ? REQ_ASSET() : (getMenu == "List Data Asset") ? DATA_ASSET() :
            (getMenu == "List Lapor Data Asset") ? LAPOR_ASSET() : (getMenu == "List Dispose Asset") ? DISPOSE_ASSET() : (getMenu == "Input Audit Asset") ? PAGE_INPUT_AUDIT_ASSET() :
                (getMenu == "List Audit Asset Bulanan") ? PAGE_DATA_AUDIT_ASSET_BULANAN() : (getMenu == "List Audit Asset Semester") ? PAGE_DATA_AUDIT_ASSET_SEMESTER() : DATA();

    }

    function REQ_ASSET() {
        //var win = window.location.replace(SITE_URL + 'REQ_ASSET', '_blank');
        var win = window.open(SITE_URL + 'REQ_ASSET', '_blank');
        win.focus();
    }

    function PENGADAAN_ASSET() {
        var win = window.open(SITE_URL + 'PENGADAAN_ASSET', '_blank');
        win.focus();
    }

    function REG_ASSET() {
        var win = window.open(SITE_URL + 'REG_ASSET', '_blank');
        win.focus();
    }

    function DATA_ASSET() {
        var win = window.open(SITE_URL + 'DATA_ASSET', '_blank');
        win.focus();
    }

    function LAPOR_ASSET() {
        var win = window.open(SITE_URL + 'LAPOR_ASSET', '_blank');
        win.focus();
    }

    function DISPOSE_ASSET() {
        var win = window.open(SITE_URL + 'DISPOSE_ASSET', '_blank');
        win.focus();
    }

    function PAGE_INPUT_AUDIT_ASSET() {
        var win = window.open(SITE_URL + 'PAGE_INPUT_AUDIT_ASSET', '_blank');
        win.focus();
    }

    function PAGE_DATA_AUDIT_ASSET_BULANAN() {
        var win = window.open(SITE_URL + 'PAGE_DATA_AUDIT_ASSET_BULANAN', '_blank');
        win.focus();
    }

    function PAGE_DATA_AUDIT_ASSET_SEMESTER() {
        var win = window.open(SITE_URL + 'PAGE_DATA_AUDIT_ASSET_SEMESTER', '_blank');
        win.focus();
    }


    //Manual Book
    $("#openBook").click(function () {
        $("#myModal").modal();
    });
    $("#closeBtn").click(function () {
        $("#myModal").modal('hide');
    })

    //-----------File References---------
    //Doc. ROI
    $("#openFileROI").click(function () {
        $("#modalFileROI").modal();
    });
    $("#closeFileROI").click(function () {
        $("#modalFileROI").modal('hide');
    })

    //Doc. URD
    $("#openFileURD").click(function () {
        $("#modalFileURD").modal();
    });
    $("#closeFileURD").click(function () {
        $("#modalFileURD").modal('hide');
    })

    //Doc. FSD
    $("#openFileFSD").click(function () {
        $("#modalFileFSD").modal();
    });
    $("#closeFileFSD").click(function () {
        $("#modalFileFSD").modal('hide');
    })

    //Doc. Test
    $("#openFileTest").click(function () {
        $("#modalFileTest").modal();
    });
    $("#closeFileTest").click(function () {
        $("#modalFileTest").modal('hide');
    })

    //Doc. Training
    $("#openFileTraining").click(function () {
        $("#modalFileTraining").modal();
    });
    $("#closeFileTraining").click(function () {
        $("#modalFileTraining").modal('hide');
    })

    //Doc. Training
    $("#openFileEvaluasi").click(function () {
        $("#modalFileEvaluasi").modal();
    });
    $("#closeFileEvaluasi").click(function () {
        $("#modalFileEvaluasi").modal('hide');
    })

   
</script>